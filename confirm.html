<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>XÃ¡c nháº­n Ä‘Æ¡n hÃ ng</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>

<h2>ğŸ›’ ThÃ´ng tin giao hÃ ng</h2>

<form
  id="orderForm"
  action="https://docs.google.com/forms/d/19Xt8NNu1OuJod_dj4NN4uQlwVpoXcvTxrCx-T_01uRo/formResponse"
  method="POST"
>

  <label>TÃªn khÃ¡ch hÃ ng</label><br>
  <input type="text" name="entry.7182938401" required><br><br>

  <label>Sá»‘ Ä‘iá»‡n thoáº¡i</label><br>
  <input type="text" name="entry.9371826540" required><br><br>

  <label>Äá»‹a chá»‰ giao hÃ ng</label><br>
  <input type="text" name="entry.XXXXXXXX" required><br><br>

  <label>Ghi chÃº</label><br>
  <input type="text" name="entry.YYYYYYYY"><br><br>

  <!-- áº¨N -->
  <input type="hidden" id="productList" name="entry.4123789056">
  <input type="hidden" id="totalAmount" name="entry.6685492037">

  <button type="submit">Gá»­i Ä‘Æ¡n hÃ ng</button>
</form>

<script>
const cart = JSON.parse(localStorage.getItem("cart") || "[]");

let products = [];
let total = 0;

cart.forEach(item => {
  products.push(`${item.name} (x${item.qty})`);
  total += item.price * item.qty;
});

document.getElementById("productList").value = products.join(", ");
document.getElementById("totalAmount").value = total;

document.getElementById("orderForm").addEventListener("submit", () => {
  localStorage.removeItem("cart");
});
</script>

</body>
</html>
<button onclick="sendConfirm()">Gá»­i xÃ¡c nháº­n</button>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/XXXXXXXX/exec";

function sendConfirm() {
  const phone = document.getElementById("phone").value.trim();
  const note = document.getElementById("note").value.trim();

  if (!phone) {
    alert("Vui lÃ²ng nháº­p sá»‘ Ä‘iá»‡n thoáº¡i");
    return;
  }

  const url =
    SCRIPT_URL +
    "?action=confirm" +
    "&phone=" + encodeURIComponent(phone) +
    "&note=" + encodeURIComponent(note);

  fetch(url)
    .then(() => {
      alert("âœ… ÄÃ£ gá»­i xÃ¡c nháº­n, shop sáº½ kiá»ƒm tra!");
      window.location.href = "index.html";
    })
    .catch(() => {
      alert("âŒ KhÃ´ng gá»­i Ä‘Æ°á»£c, vui lÃ²ng thá»­ láº¡i");
    });
}
</script>

</body>
</html>
<button onclick="confirm()">Gá»­i xÃ¡c nháº­n</button>

<script>
const SCRIPT_URL = "DÃN_URL_APPS_SCRIPT_Cá»¦A_Báº N_VÃ€O_ÄÃ‚Y";

function confirm() {
  const phone = document.getElementById("phone").value.trim();
  const note = document.getElementById("note").value.trim();

  if (!phone) {
    alert("Nháº­p sá»‘ Ä‘iá»‡n thoáº¡i");
    return;
  }

  const url =
    SCRIPT_URL +
    "?action=confirm" +
    "&phone=" + encodeURIComponent(phone) +
    "&note=" + encodeURIComponent(note);

  fetch(url)
    .then(() => {
      alert("âœ… ÄÃ£ gá»­i xÃ¡c nháº­n, shop sáº½ kiá»ƒm tra!");
      location.href = "index.html";
    });
}
</script>

</body>
</html>
